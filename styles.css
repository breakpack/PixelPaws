html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: transparent !important;
    border: none !important;
    outline: none !important;
    -webkit-app-region: no-drag;
    -webkit-user-select: none;
    user-select: none;
}

/* macOS에서 창 테두리 완전 제거 */
body {
    -webkit-app-region: no-drag;
    -webkit-user-select: none;
    user-select: none;
}

img {
    width: 128px;
    height: 128px;
    display: block;
    image-rendering: pixelated;
    -webkit-user-drag: none;
    user-select: none;
    pointer-events: auto;
}

/* 고양이 이미지와 컨트롤 패널만 클릭 가능하게 설정 */
body:not(.cat-house-open) {
    pointer-events: none;
}

body:not(.cat-house-open) img {
    pointer-events: auto;
}

body:not(.cat-house-open) #control-panel {
    pointer-events: auto;
}

body:not(.cat-house-open) #control-panel * {
    pointer-events: auto;
}

#control-panel {
    position: absolute;
    box-sizing: border-box;
    top: 0;
    right:0; /* cat image width */
    width: 200px;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px;
    z-index: 100;

    overflow-x: hidden;
    overflow-y: auto;
}

#control-panel button {
    box-sizing: border-box;
    display: block;
    width: 100%;
    margin-bottom: 10px;
    padding: 10px;
    background-color: #444;
    border: 1px solid #666;
    color: white;
    text-align: left;
}

body.cat-house-open {
    background-color: #a3c1ad !important;
    background-image: linear-gradient(45deg, #a3c1ad 25%, #8fb39a 25%, #8fb39a 50%, #a3c1ad 50%, #a3c1ad 75%, #8fb39a 75%, #8fb39a 100%) !important;
    background-size: 40px 40px !important;
    animation: moveBackground 3s linear infinite !important;
}

/* cat-house-open 클래스가 제거되었을 때 확실히 배경을 초기화 */
body:not(.cat-house-open) {
    background-color: transparent !important;
    background-image: none !important;
    animation: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

@keyframes moveBackground {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 40px 40px;
    }
}

body.cat-house-open #cat-gif {
    position: fixed;
    z-index: 10;
}

#control-panel.fullscreen {
    top: 0;
    right: 0;
    left: auto;
    width: 200px;
    height: 100%;
    border-radius: 0;
}

.hidden {
    display: none !important;
}

/* 전체화면일 때만 보이는 버튼 */
#control-panel.fullscreen #go-for-a-walk {
    display: block !important;
}

/* 전체화면이 아닐 때만 보이는 버튼들 */
#control-panel:not(.fullscreen) #open-cat-house,
#control-panel:not(.fullscreen) #sleep,
#control-panel:not(.fullscreen) #close-panel {
    display: block !important;
}

#cat-select {
    box-sizing: border-box;
    display: block;
    width: 100%;
    margin-bottom: 10px;
    padding: 10px;
    background-color: #444;
    border: 1px solid #666;
    color: white;
    -webkit-appearance: none; /* Remove default arrow in Chrome/Safari */
    -moz-appearance: none; /* Remove default arrow in Firefox */
    appearance: none; /* Remove default arrow in modern browsers */
    background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-caret-down-fill" viewBox="0 0 16 16"><path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/></svg>');
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 1em;
}
